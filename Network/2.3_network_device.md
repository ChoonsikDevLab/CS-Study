# 2.3 네트워크 기기



## 2.3.1 네트워크 기기의 처리 범위
- 네트워크 기기는 OSI 모델의 계층별로 처리 범위를 나눌 수 있음.
- 상위 계층을 처리하는 기기는 하위 계층을 처리할 수 있지만, 하위 계층을 처리하는 기기는 상위 계층의 데이터를 처리할 수 없습니다.

  - **애플리케이션 계층**: L7 스위치
  - **네트워크 계층**: 라우터, L3 스위치
  - **데이터 링크 계층**: L2 스위치, 브리지
  - **물리 계층**: NIC, 리피터, AP


## 2.3.2 애플리케이션 계층을 처리하는 기기
- **L7 스위치**: 로드밸런서로서 서버의 부하를 분산함.
  - 클라이언트의 요청을 여러 서버로 나누어 처리함.
  - IP, 포트 뿐만 아니라 URL, HTTP 헤더, 쿠키 등을 기반으로 트래픽을 분산함.
  - 필터링 기능과 응용 프로그램 수준의 트래픽 모니터링도 가능함.
  - 클라우드 서비스에서는 ALB(Application Load Balancer) 컴포넌트로 구현됨.

- **L4 스위치**: 로드밸런서로서 전송 계층을 처리함.
  - 스트리밍 서비스에는 적합하지 않으며, IP와 포트를 기반으로 트래픽을 분산함.
  - 클라우드 서비스에서는 NLB(Network Load Balancer) 컴포넌트로 구현됨.

### 표: L4 스위치와 L7 스위치 비교

| **구분**          | **L4 스위치**                               | **L7 스위치**                                     |
|-------------|---------------------------------------|---------------------------------------------|
| **작동 계층**       | `전송 계층`(계층 4)                     | `애플리케이션 계층`(계층 7)                    |
| **주요 기능**       | `IP 주소와 포트 번호` 기반의 트래픽 분산      | `URL, HTTP 헤더, 쿠키` 기반의 고급 트래픽 분산  |
| **클라우드 컴포넌트** | NLB(Network Load Balancer)           | ALB(Application Load Balancer)             |
| **트래픽 분석 수준**  | 중간(연결 및 세션 관리)                | 높음(응용 프로그램 데이터 분석 및 필터링)    |
| **사용 사례**      | 네트워크 내 간단한 트래픽 분산 및 관리, 데이터 센터 서버 밸런싱 | 복잡한 웹 애플리케이션 및 API 트래픽의 로드 밸런싱, 콘텐츠 기반 라우팅 |

> **OSI 7계층**: `물리 계층`(계층 1) / `데이터 링크 계층`(계층 2) / `네트워크 계층`(계층 3) / `전송 계층`(계층 4) / `세션 계층`(계층 5) /  `표현 계층`(계층 6) /
`애플리케이션 계층`(계층 7)

### 로드밸런서의 기능
1. **헬스 체크**: 전송 주기와 재전송 횟수 등을 설정한 이후 반복적으로 서버에 요청을 보내는 것. TCP, HTTP 등 다양한 방법으로 요청을 보내 정상적으로 처리되고 있는지 모니터링함.
2. **서버 이중화**: 2대 이상의 서버에 동일한 콘텐츠나 서비스를 배포하여 하나의 서버에 문제가 발생했을 때 다른 서버가 자동으로 작업을 이어받을 수 있도록 하는 기능.


## 2.3.3 인터넷 계층을 처리하는 기기
- **라우터**: 다른 네트워크 간의 데이터 전송과 패킷 소모를 최소화하고 최적의 경로로 패킷을 포워딩하는 장비.
- **L3 스위치**: L2 스위치의 기능과 라우팅 기능을 결합한 장비.
  - 하드웨어 기반의 라우팅을 수행함.

### 표: L2 스위치와 L3 스위치 비교

| 구분          | L2 스위치                                     | L3 스위치                                     |
|-------------|---------------------------------------------|---------------------------------------------|
| 작동 계층       | 데이터 링크 계층(계층 2)                       | 네트워크 계층(계층 3)                       |
| 주요 기능       | MAC 주소를 기반으로 한 데이터 전송 및 스위칭       | IP 주소를 기반으로 한 라우팅 및 네트워크 관리 |
| 참조 테이블     | MAC 주소 테이블                                | 라우팅 테이블                                |
| 참조 PDU      | 이더넷 프레임                                  | IP 패킷                                      |
| 참조 주소      | 물리적 주소(MAC)                              | 논리적 주소(IP)                             |
| 사용 사례      | 사무실 네트워킹, 스위칭 장비 간 연결, VLAN 구성   | 서로 다른 네트워크 및 서브넷 간의 연결, 다양한 라우팅 시나리오 구성 |


## 2.3.4 데이터 링크 계층을 처리하는 기기
- **L2 스위치**: 연결된 장치의 MAC 주소를 통해 패킷 전송을 담당함.
- **브리지**: 두 개의 근거리 통신망(LAN)을 연결하여 통신을 가능하게 하는 장치.


## 2.3.5 물리 계층을 처리하는 기기
- **NIC(Network Interface Card)**: 네트워크와 통신할 수 있도록 컴퓨터에 설치하는 장치.
- **리피터(repeater)**: 약해진 신호를 증폭하여 다른 쪽으로 전달하는 장치.
- **AP(Access Point)**: 패킷을 복사하는 기기. 유선 LAN에 연결된 후 무선 LAN 기술을 통해 다른 장치와의 무선 네트워크 연결을 가능하게 함.

&nbsp;
※ 더 자세한 내용은 [블로그](https://mandusitstudy.tistory.com/309)에서 확인해 주세요.



# 2.3 예상 질문


### 1. 라우터의 기능에 대해 설명해주세요.
<details>
<summary>클릭하여 답안 보기</summary>

```
라우터는 네트워크 간 데이터 패킷을 전달하는 장치로서, 최적의 경로를 통해 패킷을 다른 네트워크로 라우팅합니다.
라우터는 라우팅 테이블을 사용하여 각 패킷의 출발지와 목적지 주소를 분석하여 패킷을 전달하는 최적의 경로를 결정합니다.
이러한 최적 경로를 통해 네트워크 간 서로 데이터를 주고받을 때 패킷 소모를 최소화할 수 있습니다.
```

</details>

### 2. 스위치가 네트워크에서 수행하는 역할에 대해 설명해주세요.
<details>
<summary>클릭하여 답안 보기</summary>

```
스위치는 네트워크 내에서 데이터 패킷을 전송하는 장치로, L2 스위치라고도 부르며, 데이터 링크 계층에서 작동합니다.
스위치의 핵심 기능은 네트워크 내 모든 장치의 MAC 주소를 학습하고, 이 정보를 MAC 주소 테이블에 저장하는 것입니다.
패킷이 스위치에 도착하면 스위치는 패킷의 목적지 MAC 주소를 확인하고, 해당 MAC 주소가 테이블에 있으면 해당 포트로 패킷을 전달합니다.
이 과정을 통해 스위치는 네트워크의 트래픽을 효과적으로 관리하며, 데이터 트래픽이 많이 발생하는 환경에서도 네트워크의 충돌과 지연을 최소화할 수 있습니다.
```

</details>

### 3. MAC 주소에 대해 설명해주세요.
<details>
<summary>클릭하여 답안 보기</summary>

```
MAC은 Media Access Control의 약자로, 네트워크 인터페이스 카드(NIC)에 할당된 고유한 식별자입니다.
이 주소는 각 네트워크 장치가 고유하게 가지며, 데이터 링크 계층에서 장치 간의 통신을 가능하게 합니다.
MAC 주소는 일반적으로 6바이트(48비트) 길이이며, 16진수(hexadecimal)으로 표현됩니다.
네트워크 상에서 데이터 패킷을 전송할 때, 스위치와 같은 네트워킹 장비는 수신된 패킷의 MAC 주소를 확인하여 올바른 목적지로 패킷을 전달합니다.
```

</details>

### 4. 패킷이 무엇인지 설명해주세요.
<details>
<summary>클릭하여 답안 보기</summary>

```
패킷은 네트워크를 통해 전송되는 데이터의 단위로, 네트워크 통신 과정에서 데이터를 분할하여 전송합니다.
각 패킷은 헤더(송수신 정보와 제어 정보를 포함)와 페이로드(실제 전송할 데이터)로 구성됩니다.
패킷은 네트워크의 다양한 경로를 통해 목적지에 도달하며, 도착 시 다시 조립되어 원래의 데이터를 형성합니다.
```

</details>

### 5. 로드 밸런싱의 목적과 필요성에 대해 설명해주세요.
<details>
<summary>클릭하여 답안 보기</summary>

```
로드 밸런싱은 네트워크 또는 서버에 들어오는 요청 또는 트래픽을 여러 서버에 분산하여 처리하는 기술입니다.
단일 서버에 과부하가 걸리는 것을 방지하고, 서비스의 안정성과 신뢰성을 유지하기 위해서 필요합니다.
```

</details>


## 예상 질문 참고자료
1) https://land-turtler.tistory.com/154
2) https://github.com/BCS-study/basic-computer-science/blob/main/Computer%20Science/Network/interview.md